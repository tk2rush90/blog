(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/+6T":function(t,e,i){"use strict";i.d(e,"a",function(){return l}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return p}),i.d(e,"d",function(){return h});var n=i("fXoL"),o=i("ofXK");function s(t,e){1&t&&(n.Kb(0),n.Hb(1,"div",2),n.Hb(2,"div",2),n.Jb())}function r(t,e){1&t&&(n.Kb(0),n.Hb(1,"div",2),n.Hb(2,"div",3),n.Jb())}function c(t,e){1&t&&(n.Kb(0),n.Hb(1,"div",3),n.Hb(2,"div",2),n.Jb())}const l="both",a="left",p="right";let h=(()=>{class t{constructor(){this.both=l,this.left=a,this.right=p}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-view-toggle-icon"]],inputs:{type:"type"},decls:4,vars:4,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"scripter-icon","scripter-filled"],[1,"scripter-icon","scripter-outlined"]],template:function(t,e){1&t&&(n.Kb(0,0),n.pc(1,s,3,0,"ng-container",1),n.pc(2,r,3,0,"ng-container",1),n.pc(3,c,3,0,"ng-container",1),n.Jb()),2&t&&(n.dc("ngSwitch",e.type),n.wb(1),n.dc("ngSwitchCase",e.both),n.wb(1),n.dc("ngSwitchCase",e.left),n.wb(1),n.dc("ngSwitchCase",e.right))},directives:[o.l,o.m],styles:["[_nghost-%COMP%]{width:18px;height:18px;display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;cursor:pointer;-webkit-user-select:none;user-select:none}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-icon[_ngcontent-%COMP%]{width:8px;height:18px;border-radius:3px}.scripter-filled[_ngcontent-%COMP%]{background-color:#fff}.scripter-outlined[_ngcontent-%COMP%]{box-sizing:border-box;border:1px solid #fff}"]}),t})()},"2/MJ":function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL");let o=(()=>{class t{constructor(){this.color="grey",this.baseClass=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Bb({type:t,selectors:[["","appFlatButton",""]],hostVars:3,hostBindings:function(t,e){2&t&&(n.xb("scripter-color",e.color),n.yb("scripter-flat-button",e.baseClass))},inputs:{color:"color"}}),t})()},"5j9Q":function(t,e,i){"use strict";i.d(e,"a",function(){return y});var n=i("ofXK"),o=i("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),r=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})();var c=i("3Pt+"),l=i("3JKz"),a=i("K5Sg"),p=i("UI6+"),h=i("Ku+o");let u=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),d=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),b=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c,r]]}),t})();var g=i("VvCT");let f=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),_=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),v=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})(),m=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c,b,g.a,r,c.g,f,_,v]]}),t})();var w=i("B6jC"),C=i("TSpE"),P=i("IQyf");let y=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c,s,r,c.g,l.a,a.a,p.a,h.a,u,d,b,r,c.l,m,w.a,C.a,P.a]]}),t})()},"8JuB":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL");const o=["*"];let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-modal-container"]],ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(n.cc(),n.bc(0))},styles:["[_nghost-%COMP%]{display:block;box-shadow:0 5px 15px rgba(0,0,0,.3);background-color:#3b3b3b}"]}),t})()},B6jC:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("ofXK"),o=i("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})()},B8ql:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL");let o=(()=>{class t{constructor(t){this.elementRef=t,this.scrollEnd=new n.n}onHostScroll(){this._detectScrollEnd()}_detectScrollEnd(){const t=this.elementRef.nativeElement;t.scrollHeight<=t.scrollTop+t.offsetHeight&&this.scrollEnd.emit()}}return t.\u0275fac=function(e){return new(e||t)(n.Gb(n.l))},t.\u0275dir=n.Bb({type:t,selectors:[["","appScrollDetector",""]],hostBindings:function(t,e){1&t&&n.Tb("scroll",function(){return e.onHostScroll()})},outputs:{scrollEnd:"scrollEnd"}}),t})()},DBYZ:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL");const o=["*"];let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-modal-actions"]],ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(n.cc(),n.bc(0))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:flex-end;flex-wrap:wrap;box-sizing:border-box;padding:0 20px;background-color:#1e1e1e;height:70px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}"]}),t})()},IJOq:function(t,e,i){"use strict";i.d(e,"a",function(){return Pt});var n=i("PcbD"),o=i("/+6T"),s=i("AytR"),r=i("fXoL"),c=i("Jbr2"),l=i("3yin"),a=i("pxkK"),p=i("nYR2"),h=i("QGCU"),u=i("Lpyx"),d=i("8JuB");const b=["*"];let g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-modal-header"]],ngContentSelectors:b,decls:2,vars:0,template:function(t,e){1&t&&(r.cc(),r.Mb(0,"h3"),r.bc(1),r.Lb())},styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap;box-sizing:border-box;padding:0 20px;background-color:#1e1e1e;height:60px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}h3[_ngcontent-%COMP%]{font-size:18px;font-weight:400;color:#fff}"]}),t})();var f=i("uCgD"),_=i("B8ql"),v=i("ofXK");let m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-draft-list-item"]],inputs:{post:"post"},decls:5,vars:5,consts:[[1,"scripter-date"],[1,"scripter-title"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.rc(1),r.Yb(2,"date"),r.Lb(),r.Mb(3,"div",1),r.rc(4),r.Lb()),2&t&&(r.wb(1),r.sc(" ",r.ac(2,2,null==e.post?null:e.post.updated,"MMMM d, yyyy"),"\n"),r.wb(3),r.sc(" ",null==e.post?null:e.post.title,"\n"))},pipes:[v.e],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;justify-content:center;flex-direction:column;flex-wrap:wrap;box-sizing:border-box;padding:0 20px;cursor:pointer;-webkit-user-select:none;user-select:none;height:60px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]:hover{background-color:#707070}.scripter-date[_ngcontent-%COMP%]{text-transform:uppercase;font-size:12px;color:#bebebe}.scripter-title[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;width:100%;font-size:14px;color:#fff;margin-top:3px}"]}),t})();var w=i("Yud9");function C(t,e){if(1&t){const t=r.Nb();r.Mb(0,"app-draft-list-item",4),r.Tb("click",function(){r.kc(t);const i=e.$implicit;return r.Xb().selectPost(i)}),r.Lb()}2&t&&r.dc("post",e.$implicit)}function P(t,e){1&t&&(r.Kb(0),r.Mb(1,"div",5),r.rc(2," \ucd08\uc548\uc774 \uc5c6\uc2b5\ub2c8\ub2e4 "),r.Lb(),r.Jb())}function y(t,e){1&t&&r.Hb(0,"app-loading-spot",6),2&t&&r.dc("size",50)}let x=(()=>{class t{constructor(t,e,i,n,o){this.modalRef=t,this.authService=e,this.postApiService=i,this.postEditorService=n,this.subscriptionService=o,this.posts=[],this.loading=!1}ngOnInit(){this._subscribeAuthResponse()}get empty(){return!this.loading&&0===this.posts.length}_subscribeAuthResponse(){const t=this.authService.authResponse$.subscribe(t=>{this._authResponse=t,this._getDraftPosts()});this.subscriptionService.store("_subscribeAuthResponse",t)}_getDraftPosts(t){if(this._authResponse&&!this.loading){const e=this.postApiService.getPosts({pageToken:t,status:a.a},this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:e=>{this._response=e,t?this.posts.push(...e.items):this.posts=e.items||[]}});this.subscriptionService.store("_getDraftPosts",e),this.loading=!0}}onContentScrollEnd(){var t;(null===(t=this._response)||void 0===t?void 0:t.nextPageToken)&&this._getDraftPosts(this._response.nextPageToken)}selectPost(t){this.postEditorService.post=t,this.modalRef.close()}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(l.b),r.Gb(h.a),r.Gb(u.a),r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-draft-modal"]],features:[r.vb([n.a])],decls:7,vars:3,consts:[["appScrollDetector","",3,"scrollEnd"],[3,"post","click",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"size",4,"ngIf"],[3,"post","click"],[1,"scripter-empty-text"],[3,"size"]],template:function(t,e){1&t&&(r.Mb(0,"app-modal-container"),r.Mb(1,"app-modal-header"),r.rc(2," \ucd08\uc548\ubaa9\ub85d "),r.Lb(),r.Mb(3,"app-modal-content",0),r.Tb("scrollEnd",function(){return e.onContentScrollEnd()}),r.pc(4,C,1,1,"app-draft-list-item",1),r.pc(5,P,3,0,"ng-container",2),r.pc(6,y,1,1,"app-loading-spot",3),r.Lb(),r.Lb()),2&t&&(r.wb(4),r.dc("ngForOf",e.posts),r.wb(1),r.dc("ngIf",e.empty),r.wb(1),r.dc("ngIf",e.loading))},directives:[d.a,g,f.a,_.a,v.j,v.k,m,w.a],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:450px}app-modal-content[_ngcontent-%COMP%]{height:400px;overflow:auto}app-loading-spot[_ngcontent-%COMP%]{height:60px}.scripter-empty-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;height:60px;font-size:12px;color:#fff}.scripter-empty-text[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}"]}),t})();var O=i("3Pt+"),M=i("Xz2l"),R=i("UM8G"),S=i("IZ0j"),k=i("tyNb"),I=i("Xvos");let E=(()=>{class t{constructor(t,e){this.ngControl=t,this.changeDetectorRef=e,t&&(t.valueAccessor=this)}ngAfterViewInit(){this.writeValue(this.getValue()||this._defaultValue),this.changeDetectorRef.detectChanges()}get touched(){return this._getControlField("touched")}get dirty(){return this._getControlField("dirty")}get invalid(){return this._getControlField("invalid")}setValue(t){this.markAsDirty(t),this._callControlMethod("setValue",t)}getValue(){return this._getControlField("value")}setDisable(){this._callControlMethod("disable")}setEnable(){this._callControlMethod("enable")}writeValue(t){}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){}markAsTouched(){this._onTouched&&this._onTouched()}markAsDirty(t){this._onChange&&this._onChange(t)}setErrors(t){this._callControlMethod("setErrors",t)}getErrors(){const t={},e=this._getControlField("errors")||{};return Object.keys(e).forEach(i=>{t[i]=e[i]}),t}getControl(){if(this.ngControl&&this.ngControl.control)return this.ngControl.control}_getControlField(t){const e=this.getControl();if(e)return e[t]}_callControlMethod(t,...e){const i=this.getControl();i&&i[t](...e)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h))},t.\u0275dir=r.Bb({type:t,selectors:[["","appFormControlBase",""]]}),t})();const L=[[["label"]],"*"],B=["label","*"];let T=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-form-field"]],ngContentSelectors:B,decls:4,vars:0,consts:[[1,"scripter-label"],[1,"scripter-field-container"]],template:function(t,e){1&t&&(r.cc(L),r.Mb(0,"div",0),r.bc(1),r.Lb(),r.Mb(2,"div",1),r.bc(3,1),r.Lb())},styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-label[_ngcontent-%COMP%]{font-size:12px;color:#bebebe}.scripter-field-container[_ngcontent-%COMP%]{width:100%;margin-top:10px}.scripter-field-container[_ngcontent-%COMP%]    >*{width:100%}"]}),t})(),A=(()=>{class t extends E{constructor(t,e,i){super(t,e),this.ngControl=t,this.changeDetectorRef=e,this.elementRef=i,this.type="text",this.spellcheck=!1,this.autocomplete="off",this.placeholder="",this.baseClass=!0}writeValue(t){var e;const i=null===(e=this.elementRef)||void 0===e?void 0:e.nativeElement;i&&(i.value=t||"")}onHostInput(){var t;const e=null===(t=this.elementRef)||void 0===t?void 0:t.nativeElement;e&&this.setValue(e.value)}onHostBlur(){this.markAsTouched()}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h),r.Gb(r.l))},t.\u0275dir=r.Bb({type:t,selectors:[["input","appInput",""],["textarea","appInput",""]],hostVars:6,hostBindings:function(t,e){1&t&&r.Tb("input",function(){return e.onHostInput()})("blur",function(){return e.onHostBlur()}),2&t&&(r.xb("type",e.type)("spellcheck",e.spellcheck)("autocomplete",e.autocomplete)("placeholder",e.placeholder),r.yb("scripter-input-field",e.baseClass))},inputs:{type:"type",spellcheck:"spellcheck",autocomplete:"autocomplete",placeholder:"placeholder"},features:[r.tb]}),t})(),V=(()=>{class t extends E{constructor(t,e){super(t,e),this.ngControl=t,this.changeDetectorRef=e,this.value=""}ngOnInit(){}writeValue(t){this.value=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-title-input"]],features:[r.tb],decls:4,vars:1,consts:[["required","","appInput","",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Mb(0,"app-form-field"),r.Mb(1,"label"),r.rc(2," Title "),r.Lb(),r.Mb(3,"input",0),r.Tb("ngModelChange",function(t){return e.setValue(t)}),r.Lb(),r.Lb()),2&t&&(r.wb(3),r.dc("ngModel",e.value))},directives:[T,A,O.b,O.m,O.i,O.k],styles:["[_nghost-%COMP%]{display:block}"]}),t})();var z=i("WlEM");let D=(()=>{class t extends z.a{constructor(){super()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Ab({type:t,selectors:[["app-icon-keyboard-arrow-down"]],features:[r.tb],decls:2,vars:0,consts:[["xmlns","http://www.w3.org/2000/svg","width","12","height","7.41","viewBox","0 0 12 7.41"],["id","ic_keyboard_arrow_down_24px","d","M7.41,7.84,12,12.42l4.59-4.58L18,9.25l-6,6-6-6Z","transform","translate(-6 -7.84)"]],template:function(t,e){1&t&&(r.Wb(),r.Mb(0,"svg",0),r.Hb(1,"path",1),r.Lb())},styles:[""]}),t})(),G=(()=>{class t{constructor(t){this.elementRef=t,this.autoClose=new r.n,this._closeOnScroll=!1,this._eventAppended=!1,this._wheelEventHandler=t=>{this._detectEventTarget(t),this._handleInsideWheelingEvent(t)}}set closerContainer(t){this._closerContainerRef=t,this._setCloserContainer()}set closeOnScroll(t){this._closeOnScroll=t,this._setWheelEvent()}ngAfterViewInit(){this._setElement(),this._setWheelEvent()}ngOnDestroy(){this._removeWheelEvent()}_setElement(){this.elementRef&&(this._element=this.elementRef.nativeElement)}_setCloserContainer(){this._closerContainerRef&&(this._closerContainer=this._closerContainerRef instanceof r.l?this._closerContainerRef.nativeElement:this._closerContainerRef)}onWindowClicked(t){this._detectEventTarget(t)}_detectEventTarget(t){this._closerContainer&&(this._closerContainer.contains(t.target)||this.autoClose.emit())}_setWheelEvent(){!this._eventAppended&&this._closeOnScroll&&(window.addEventListener("wheel",this._wheelEventHandler,{capture:!0}),this._eventAppended=!0)}_handleInsideWheelingEvent(t){this._element&&this._closerContainer&&this._element.contains(t.target)&&(t.deltaY>0&&this.isElementScrollOnBottom&&this.autoClose.emit(),t.deltaY<0&&this.isElementScrollOnTop&&this.autoClose.emit())}get isElementScrollOnBottom(){if(this._element)return this._element.scrollHeight<=this._element.scrollTop+this._element.offsetHeight}get isElementScrollOnTop(){if(this._element)return this._element.scrollTop<=0}_removeWheelEvent(){this._eventAppended&&window.removeEventListener("wheel",this._wheelEventHandler,{capture:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.l))},t.\u0275dir=r.Bb({type:t,selectors:[["","appAutoCloser",""]],hostBindings:function(t,e){1&t&&r.Tb("click",function(t){return e.onWindowClicked(t)},!1,r.jc)},inputs:{closerContainer:"closerContainer",closeOnScroll:"closeOnScroll"},outputs:{autoClose:"autoClose"}}),t})();const X="inner-top",H="inner-bottom",j="inner-left",F="inner-right";let W=(()=>{class t{constructor(t,e){this.renderer=t,this.elementRef=e}set positionContainer(t){this._positionContainerRef=t,this._setPositionContainerElement(),this._autoPositioningTheElement()}ngAfterViewInit(){this._setHostElement(),this._setScrollContainer(),this._autoPositioningTheElement()}ngAfterViewChecked(){this._calculatePosition()}ngOnDestroy(){clearTimeout(this._timer)}get isReady(){return!!(this._element&&this._positionContainer&&this._scrollContainer)}get isInnerVertical(){return this.verticalPosition===X||this.verticalPosition===H}get isInnerHorizontal(){return this.horizontalPosition===j||this.horizontalPosition===F}_setPositionContainerElement(){this._positionContainerRef&&(this._positionContainer=this._positionContainerRef instanceof r.l?this._positionContainerRef.nativeElement:this._positionContainerRef)}_setHostElement(){this.elementRef&&(this._element=this.elementRef.nativeElement)}_setScrollContainer(){if(this.elementRef){let t=this.elementRef.nativeElement.parentElement;for(;t;){const e=getComputedStyle(t).getPropertyValue("overflow");if("scroll"===e||"auto"===e){this._scrollContainer=t;break}t=t.parentElement}}}_autoPositioningTheElement(){this._hideElement(),this._timer=setTimeout(()=>{this._setElementWidth(),this._calculatePosition(),this._showElement()})}_hideElement(){this._element&&(this.renderer.setStyle(this._element,"position","fixed"),this.renderer.setStyle(this._element,"visibility","hidden"))}_setElementWidth(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect();this.renderer.setStyle(this._element,"width",null!=this.width?this.width:t.width+"px")}}_calculatePosition(){this._setVerticalPosition(),this._setHorizontalPosition()}_setVerticalPosition(){this.isInnerVertical?this._setInnerVerticalPosition():this._setOuterVerticalPosition()}_setInnerVerticalPosition(){if(this.isReady)switch(this.verticalPosition){case X:this._calculateInnerTopPriorityPosition();break;case H:this._calculateInnerBottomPriorityPosition()}}_calculateInnerTopPriorityPosition(){this.isInnerTopAvailable?this._setInnerTopPosition():this.isInnerBottomAvailable?this._setInnerBottomPosition():this._setInnerTopPosition()}_calculateInnerBottomPriorityPosition(){this.isInnerBottomAvailable?this._setInnerBottomPosition():this.isInnerTopAvailable?this._setInnerTopPosition():this._setInnerBottomPosition()}get isInnerTopAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.top+e.height<=i.top+i.height}}get isInnerBottomAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.top+t.height-e.height>=i.top}}_setInnerTopPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect();this.renderer.setStyle(this._element,"top",t.top+"px")}}_setInnerBottomPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=window.innerHeight-t.bottom;this.renderer.setStyle(this._element,"bottom",e+"px")}}_setOuterVerticalPosition(){if(this.isReady)switch(this.verticalPosition){case"outer-top":this._calculateOuterTopPriorityPosition();break;case"outer-bottom":this._calculateOuterBottomPriorityPosition()}}_calculateOuterTopPriorityPosition(){this.isOuterTopAvailable?this._setOuterTopPosition():this.isOuterBottomAvailable?this._setOuterBottomPosition():this._setOuterTopPosition()}_calculateOuterBottomPriorityPosition(){this.isOuterBottomAvailable?this._setOuterBottomPosition():this.isOuterTopAvailable?this._setOuterTopPosition():this._setOuterBottomPosition()}get isOuterTopAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.top-e.height>=i.top}}get isOuterBottomAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.top+t.height+e.height<=i.top+i.height}}_setOuterTopPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=window.innerHeight-t.top;this.renderer.setStyle(this._element,"bottom",e+"px")}}_setOuterBottomPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect();this.renderer.setStyle(this._element,"top",t.bottom+"px")}}_setHorizontalPosition(){this.isInnerHorizontal?this._setInnerHorizontalPosition():this._setOuterHorizontalPosition()}_setInnerHorizontalPosition(){if(this.isReady)switch(this.horizontalPosition){case j:this._calculateInnerLeftPriorityPosition();break;case F:this._calculateInnerRightPriorityPosition()}}_calculateInnerLeftPriorityPosition(){this.isInnerLeftAvailable?this._setInnerLeftPosition():this.isInnerRightAvailable?this._setInnerRightPosition():this._setInnerLeftPosition()}_calculateInnerRightPriorityPosition(){this.isInnerRightAvailable?this._setInnerRightPosition():this.isInnerLeftAvailable?this._setInnerLeftPosition():this._setInnerRightPosition()}get isInnerLeftAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.left+e.width<=i.left+i.width}}get isInnerRightAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.left+t.width-e.width>=i.left}}_setInnerLeftPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect();this.renderer.setStyle(this._element,"left",t.left+"px")}}_setInnerRightPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=window.innerWidth-t.right;this.renderer.setStyle(this._element,"right",e+"px")}}_setOuterHorizontalPosition(){if(this.isReady)switch(this.horizontalPosition){case"outer-left":this._calculateOuterLeftPriorityPosition();break;case"outer-right":this._calculateOuterRightPriorityPosition()}}_calculateOuterLeftPriorityPosition(){this.isOuterLeftAvailable?this._setOuterLeftPosition():this.isOuterRightAvailable?this._setOuterRightPosition():this._setOuterLeftPosition()}_calculateOuterRightPriorityPosition(){this.isOuterRightAvailable?this._setOuterRightPosition():this.isOuterLeftAvailable?this._setOuterLeftPosition():this._setOuterRightPosition()}get isOuterLeftAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.left-e.width>=i.left}}get isOuterRightAvailable(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=this._element.getBoundingClientRect(),i=this._scrollContainer.getBoundingClientRect();return t.left+t.width+e.width<=i.left+i.width}}_setOuterLeftPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect(),e=window.innerWidth-t.left;this.renderer.setStyle(this._element,"right",e+"px")}}_setOuterRightPosition(){if(this.isReady){const t=this._positionContainer.getBoundingClientRect();this.renderer.setStyle(this._element,"left",t.left+t.width+"px")}}_showElement(){this._element&&this.renderer.setStyle(this._element,"visibility","visible")}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.D),r.Gb(r.l))},t.\u0275dir=r.Bb({type:t,selectors:[["","appAutoPositioner",""]],inputs:{positionContainer:"positionContainer",horizontalPosition:"horizontalPosition",verticalPosition:"verticalPosition",width:"width"}}),t})(),$=(()=>{class t{constructor(t){this.elementRef=t,this.focused=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.l))},t.\u0275dir=r.Bb({type:t,selectors:[["","appAutoScrollItem",""]],inputs:{focused:"focused"}}),t})(),K=(()=>{class t{constructor(t){this.elementRef=t}ngAfterViewInit(){this._findFocusedItem()}_findFocusedItem(){this.autoScrollItemList&&(this._focused=this.autoScrollItemList.find(t=>t.focused),this._scrollIntoView())}_scrollIntoView(){var t,e,i;const n=null===(t=this.elementRef)||void 0===t?void 0:t.nativeElement,o=null===(i=null===(e=this._focused)||void 0===e?void 0:e.elementRef)||void 0===i?void 0:i.nativeElement;if(o&&n){const t=n.getBoundingClientRect(),e=o.getBoundingClientRect();n.scrollTop=e.top+e.height/2-(t.top+t.height/2)}}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(r.l))},t.\u0275dir=r.Bb({type:t,selectors:[["","appAutoScrollContainer",""]],contentQueries:function(t,e,i){if(1&t&&r.zb(i,$,!0),2&t){let t;r.hc(t=r.Ub())&&(e.autoScrollItemList=t)}}}),t})();function J(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",6),r.Tb("click",function(){r.kc(t);const i=e.$implicit;return r.Xb(2).onOptionClicked(i)}),r.Mb(1,"div",7),r.rc(2),r.Lb(),r.Lb()}if(2&t){const t=e.$implicit,i=r.Xb(2);r.yb("scripter-selected",t.value===i.value),r.dc("focused",t.value===i.value),r.wb(2),r.sc(" ",t.label," ")}}function N(t,e){if(1&t){const t=r.Nb();r.Mb(0,"div",4),r.Tb("autoClose",function(){return r.kc(t),r.Xb().close()}),r.pc(1,J,3,4,"div",5),r.Lb()}if(2&t){const t=r.Xb();r.dc("positionContainer",t.elementRef)("closerContainer",t.elementRef)("closeOnScroll",!0),r.wb(1),r.dc("ngForOf",t.options)}}let q=(()=>{class t extends E{constructor(t,e,i){super(t,i),this.ngControl=t,this.elementRef=e,this.changeDetectorRef=i,this.placeholder="Select...",this.opened=!1,this.label="",this._options=[]}set options(t){this._options=t||[],this._setSelectedLabel()}ngOnInit(){}get options(){return this._options}open(){this.opened=!0}close(){this.opened=!1,this.markAsTouched()}writeValue(t){this.value=t,this._setSelectedLabel()}_setSelectedLabel(){const t=this._options.find(t=>t.value===this.value);t&&(this.label=t.label)}onOptionClicked(t){this.setValue(t.value),this.opened=!1}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.l),r.Gb(r.h))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-select"]],inputs:{placeholder:"placeholder",options:"options"},features:[r.tb],decls:5,vars:11,consts:[[1,"scripter-container",3,"click"],["appInput","","readonly","",3,"value","placeholder"],[1,"scripter-icon-container"],["appAutoCloser","","appAutoPositioner","","appAutoScrollContainer","","class","scripter-options-container","horizontalPosition","inner-left","verticalPosition","outer-bottom",3,"positionContainer","closerContainer","closeOnScroll","autoClose",4,"ngIf"],["appAutoCloser","","appAutoPositioner","","appAutoScrollContainer","","horizontalPosition","inner-left","verticalPosition","outer-bottom",1,"scripter-options-container",3,"positionContainer","closerContainer","closeOnScroll","autoClose"],["appAutoScrollItem","","class","scripter-option",3,"scripter-selected","focused","click",4,"ngFor","ngForOf"],["appAutoScrollItem","",1,"scripter-option",3,"focused","click"],[1,"scripter-option-label"]],template:function(t,e){1&t&&(r.Mb(0,"div",0),r.Tb("click",function(){return e.opened?e.close():e.open()}),r.Hb(1,"input",1),r.Mb(2,"div",2),r.Hb(3,"app-icon-keyboard-arrow-down"),r.Lb(),r.Lb(),r.pc(4,N,2,4,"div",3)),2&t&&(r.wb(1),r.yb("ng-dirty",e.dirty)("ng-invalid",e.invalid)("ng-touched",e.touched),r.dc("value",e.label)("placeholder",e.placeholder),r.wb(2),r.yb("scripter-reverse",e.opened),r.wb(1),r.dc("ngIf",e.opened))},directives:[A,D,v.k,G,W,K,v.j,$],styles:["[_nghost-%COMP%]{display:block;height:40px}.scripter-container[_ngcontent-%COMP%]{width:100%;height:100%;cursor:pointer;-webkit-user-select:none;user-select:none;position:relative}input[_ngcontent-%COMP%]{box-sizing:border-box;padding-right:calc(15px + 12px + 15px);width:100%;height:100%;cursor:inherit}.scripter-icon-container[_ngcontent-%COMP%]{top:50%;transform:translateY(-50%);position:absolute;right:15px}app-icon-keyboard-arrow-down[_ngcontent-%COMP%]{width:12px;top:50%}app-icon-keyboard-arrow-down.scripter-reverse[_ngcontent-%COMP%]{transform:rotate(180deg)}.scripter-options-container[_ngcontent-%COMP%]{background-color:#fff;max-height:calc(40px * 5);overflow:auto;box-shadow:0 5px 15px rgba(0,0,0,.3)}.scripter-option[_ngcontent-%COMP%]{box-sizing:border-box;padding:0 20px;display:flex;align-items:center;flex-wrap:wrap;cursor:pointer;-webkit-user-select:none;user-select:none;height:40px}.scripter-option[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-option[_ngcontent-%COMP%]:hover{background-color:#e6e6e6}.scripter-option.scripter-selected[_ngcontent-%COMP%]   .scripter-option-label[_ngcontent-%COMP%]{color:#49a9d9}.scripter-option-label[_ngcontent-%COMP%]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:14px;width:100%}"]}),t})();const{categories:Y}=s.a;let U=(()=>{class t extends E{constructor(t,e){super(t,e),this.ngControl=t,this.changeDetectorRef=e,this.value="",this.options=[...Y]}ngOnInit(){}writeValue(t){this.value=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-category-select"]],features:[r.tb],decls:4,vars:2,consts:[["required","",3,"ngModel","options","ngModelChange"]],template:function(t,e){1&t&&(r.Mb(0,"app-form-field"),r.Mb(1,"label"),r.rc(2," Category "),r.Lb(),r.Mb(3,"app-select",0),r.Tb("ngModelChange",function(t){return e.setValue(t)}),r.Lb(),r.Lb()),2&t&&(r.wb(3),r.dc("ngModel",e.value)("options",e.options))},directives:[T,q,O.m,O.i,O.k],styles:["[_nghost-%COMP%]{display:block}"]}),t})();var Q=i("oRJw");function Z(t,e){if(1&t){const t=r.Nb();r.Mb(0,"app-post-label",4),r.Tb("click",function(){r.kc(t);const i=e.$implicit;return r.Xb(2).removeExistingLabel(i)}),r.rc(1),r.Lb()}if(2&t){const t=e.$implicit;r.dc("deletable",!0),r.wb(1),r.sc(" ",t," ")}}function tt(t,e){if(1&t&&(r.Mb(0,"div",2),r.pc(1,Z,2,2,"app-post-label",3),r.Lb()),2&t){const t=r.Xb();r.wb(1),r.dc("ngForOf",t.labels)}}let et=(()=>{class t extends E{constructor(t,e){super(t,e),this.ngControl=t,this.changeDetectorRef=e,this.labels=[],this.value=""}ngOnInit(){}get labelString(){return(this.labels||[]).join(",")}get isValidValue(){return!!(this.value||"").trim()}get isNotDuplicated(){return-1===(this.labels||[]).indexOf(this.value)}writeValue(t){this.labels=(t||"").split(",").filter(t=>t)}addNewLabel(){this.isValidValue&&this.isNotDuplicated&&(this.labels.push(this.value),this.value="",this.setValue(this.labelString))}removeExistingLabel(t){const e=(this.labels||[]).indexOf(t);-1!==e&&(this.labels.splice(e,1),this.setValue(this.labelString))}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-label-input"]],features:[r.tb],decls:5,vars:2,consts:[["appInput","",3,"ngModel","keydown.enter","ngModelChange"],["class","scripter-label-container",4,"ngIf"],[1,"scripter-label-container"],[3,"deletable","click",4,"ngFor","ngForOf"],[3,"deletable","click"]],template:function(t,e){1&t&&(r.Mb(0,"app-form-field"),r.Mb(1,"label"),r.rc(2," Labels "),r.Lb(),r.Mb(3,"input",0),r.Tb("keydown.enter",function(){return e.addNewLabel()})("ngModelChange",function(t){return e.value=t}),r.Lb(),r.Lb(),r.pc(4,tt,2,1,"div",1)),2&t&&(r.wb(3),r.dc("ngModel",e.value),r.wb(1),r.dc("ngIf",e.labels.length>0))},directives:[T,A,O.b,O.i,O.k,v.k,v.j,Q.a],styles:["[_nghost-%COMP%]{display:block}.scripter-label-container[_ngcontent-%COMP%]{display:flex;align-items:flex-start;flex-wrap:wrap;margin-top:10px}.scripter-label-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}app-post-label[_ngcontent-%COMP%]{margin-right:5px;margin-bottom:5px}"]}),t})();var it=i("DBYZ"),nt=i("QL7L"),ot=i("2/MJ");function st(t,e){1&t&&r.Hb(0,"app-loading-spot",5),2&t&&r.dc("size",50)}function rt(t,e){if(1&t){const t=r.Nb();r.Kb(0),r.Mb(1,"button",8),r.Tb("click",function(){return r.kc(t),r.Xb(2).deletePost()}),r.rc(2," \uc0ad\uc81c "),r.Lb(),r.Mb(3,"button",9),r.Tb("click",function(){return r.kc(t),r.Xb(2).updatePost()}),r.rc(4," \ucd08\uc548\uc218\uc815 "),r.Lb(),r.Mb(5,"button",10),r.Tb("click",function(){return r.kc(t),r.Xb(2).publishPost()}),r.rc(6," \ubc1c\ud589\ud558\uae30 "),r.Lb(),r.Jb()}if(2&t){const t=r.Xb(2);r.wb(3),r.dc("disabled",t.group.invalid),r.wb(2),r.dc("disabled",t.group.invalid)}}function ct(t,e){if(1&t){const t=r.Nb();r.Kb(0),r.Mb(1,"button",9),r.Tb("click",function(){return r.kc(t),r.Xb(3).revertPost()}),r.rc(2," \ucd08\uc548\uc73c\ub85c \ub418\ub3cc\ub9ac\uae30 "),r.Lb(),r.Mb(3,"button",10),r.Tb("click",function(){return r.kc(t),r.Xb(3).updatePost()}),r.rc(4," \uc218\uc815\ud558\uae30 "),r.Lb(),r.Jb()}if(2&t){const t=r.Xb(3);r.wb(1),r.dc("disabled",t.group.invalid),r.wb(2),r.dc("disabled",t.group.invalid)}}function lt(t,e){if(1&t){const t=r.Nb();r.Mb(0,"button",9),r.Tb("click",function(){return r.kc(t),r.Xb(3).createDraftPost()}),r.rc(1," \ucd08\uc548\ub4f1\ub85d "),r.Lb(),r.Mb(2,"button",10),r.Tb("click",function(){return r.kc(t),r.Xb(3).createPost()}),r.rc(3," \ubc1c\ud589\ud558\uae30 "),r.Lb()}if(2&t){const t=r.Xb(3);r.dc("disabled",t.group.invalid),r.wb(2),r.dc("disabled",t.group.invalid)}}function at(t,e){if(1&t&&(r.pc(0,ct,5,2,"ng-container",6),r.pc(1,lt,4,2,"ng-template",null,11,r.qc)),2&t){const t=r.ic(2),e=r.Xb(2);r.dc("ngIf",e.isEditing)("ngIfElse",t)}}function pt(t,e){if(1&t&&(r.pc(0,rt,7,2,"ng-container",6),r.pc(1,at,3,2,"ng-template",null,7,r.qc)),2&t){const t=r.ic(2),e=r.Xb();r.dc("ngIf",e.isDraft)("ngIfElse",t)}}let ht=(()=>{class t{constructor(t,e,i,n,o,s,r){this.router=t,this.authService=e,this.toastService=i,this.modalService=n,this.postApiService=o,this.postEditorService=s,this.subscriptionService=r,this.title=new O.c("",O.n.required),this.category=new O.c("",O.n.required),this.labels=new O.c(""),this.group=new O.e({title:this.title,category:this.category,labels:this.labels}),this.loading=!1}ngOnInit(){this._subscribePost(),this._subscribeAuthResponse(),this._subscribeSigningFailed()}ngOnDestroy(){this._updatePostModel()}get isEditing(){var t;return!!(null===(t=this._post)||void 0===t?void 0:t.id)}get isDraft(){var t;return"DRAFT"===(null===(t=this._post)||void 0===t?void 0:t.status)}get readyToSubmit(){return!(this.loading||!this._authResponse||!this._post)}_subscribePost(){const t=this.postEditorService.post$.subscribe(t=>{this._post=t,this._patchGroupValues()});this.subscriptionService.store("_subscribePost",t)}_subscribeAuthResponse(){const t=this.authService.authResponse$.subscribe(t=>{this._authResponse=t});this.subscriptionService.store("_subscribeAuthResponse",t)}_patchGroupValues(){this._post&&(console.log(this._post),this.title.patchValue(this._post.title||""),this.category.patchValue(this._post.category||""),this.labels.patchValue(this._post.labels.join(",")||""))}_updatePostModel(){this._post&&(this._post.title=this.title.value,this._post.category=this.category.value,this._post.labels=(this.labels.value||"").split(",").filter(t=>t))}createDraftPost(){if(this.readyToSubmit){this._updatePostModel();const t=this.postApiService.createPost(this._post,!0,this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:t=>{t&&(this.postEditorService.post=t,this.toastService.open({message:"\ucd08\uc548\uc774 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}))},error:t=>{this._handleErrorResponse(t)}});this.subscriptionService.store("_createDraftPost",t),this.loading=!0}}createPost(){if(this.readyToSubmit){this._updatePostModel();const t=this.postApiService.createPost(this._post,!1,this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:t=>{t&&(this.toastService.open({message:"\ubc1c\ud589\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),this._toPostView(t))}});this.subscriptionService.store("_createPost",t),this.loading=!0}}updatePost(t){if(this.readyToSubmit){this._updatePostModel();const e=this.postApiService.updatePost(this._post,this._authResponse).pipe(Object(p.a)(()=>{t||(this.loading=!1)})).subscribe({next:e=>{e&&(this.postEditorService.post=e,t?t():(this.toastService.open({message:"\uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),"DRAFT"!==e.status&&this._toPostView(e)))}});this.subscriptionService.store("_updateDraftPost",e),this.loading=!0}}revertPost(){this.readyToSubmit&&this.updatePost(()=>{this._revertPost()})}_revertPost(){const t=this.postApiService.revertPost(this._post,this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:t=>{t&&(this.postEditorService.post=t,this.toastService.open({message:"\ucd08\uc548\uc73c\ub85c \ub418\ub3cc\ub838\uc2b5\ub2c8\ub2e4"}))},error:t=>{this._handleErrorResponse(t)}});this.subscriptionService.store("revertPost",t),this.loading=!0}publishPost(){this.readyToSubmit&&this.updatePost(()=>{this._publishPost()})}_publishPost(){const t=this.postApiService.publishPost(this._post,this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:t=>{t&&(this.toastService.open({message:"\ubc1c\ud589\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),this._toPostView(t))},error:t=>{this._handleErrorResponse(t)}});this.subscriptionService.store("publishPost",t),this.loading=!0}deletePost(){this.modalService.open(M.a,{data:"\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc774 \uc791\uc5c5\uc740 \ub418\ub3cc\ub9b4 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4",closeOnNavigating:!0,onClose:t=>{t&&this._deletePost()}})}_deletePost(){if(this.readyToSubmit){const t=this.postApiService.deletePost(this._post,this._authResponse).pipe(Object(p.a)(()=>this.loading=!1)).subscribe({next:()=>{this.toastService.open({message:"\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),this._toMain()},error:t=>{this._handleErrorResponse(t)}});this.subscriptionService.store("deletePost",t),this.loading=!0}}_handleErrorResponse(t){switch(t.status){case 401:this.authService.signIn();break;default:this.toastService.open({message:Object(S.a)(t),type:R.b.error})}}_toPostView(t){this.router.navigate(["/post/view",t.id])}_toMain(){this.router.navigate(["/"])}_subscribeSigningFailed(){const t=this.authService.signingFailed.subscribe(()=>{this.toastService.open({message:"\uad00\ub9ac\uc790 \uc778\uc99d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4",type:R.b.error}),this._toMain()});this.subscriptionService.store("_subscribeSigningFailed",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(k.p),r.Gb(h.a),r.Gb(R.a),r.Gb(I.a),r.Gb(u.a),r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-publish-modal"]],features:[r.vb([n.a])],decls:12,vars:6,consts:[[3,"formGroup"],["required","",3,"formControl"],[3,"formControl"],[3,"size",4,"ngIf","ngIfElse"],["actions",""],[3,"size"],[4,"ngIf","ngIfElse"],["published",""],["appInlineButton","","color","semi-white",3,"click"],["appInlineButton","","color","semi-white",3,"disabled","click"],["appFlatButton","","color","grey",3,"disabled","click"],["newPost",""]],template:function(t,e){if(1&t&&(r.Mb(0,"app-modal-container"),r.Mb(1,"app-modal-header"),r.rc(2," \ubc1c\ud589\ud558\uae30 "),r.Lb(),r.Mb(3,"app-modal-content"),r.Mb(4,"form",0),r.Hb(5,"app-post-title-input",1),r.Hb(6,"app-post-category-select",1),r.Hb(7,"app-post-label-input",2),r.Lb(),r.Lb(),r.Mb(8,"app-modal-actions"),r.pc(9,st,1,1,"app-loading-spot",3),r.pc(10,pt,3,2,"ng-template",null,4,r.qc),r.Lb(),r.Lb()),2&t){const t=r.ic(11);r.wb(4),r.dc("formGroup",e.group),r.wb(1),r.dc("formControl",e.title),r.wb(1),r.dc("formControl",e.category),r.wb(1),r.dc("formControl",e.labels),r.wb(2),r.dc("ngIf",e.loading)("ngIfElse",t)}},directives:[d.a,g,f.a,O.o,O.j,O.f,V,O.m,O.i,O.d,U,et,it.a,v.k,w.a,nt.a,ot.a],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:450px}app-modal-content[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px;overflow:auto;height:340px}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:20px}.scripter-flat-button[_ngcontent-%COMP%]{height:35px}app-post-category-select[_ngcontent-%COMP%], app-post-label-input[_ngcontent-%COMP%]{margin-top:20px}"]}),t})();var ut=i("m73w");function dt(t,e){if(1&t){const t=r.Nb();r.Mb(0,"app-view-toggle-icon",1),r.Tb("click",function(){r.kc(t);const i=e.$implicit;return r.Xb().setValue(i)}),r.Lb()}if(2&t){const t=e.$implicit,i=r.Xb();r.yb("scripter-active",i.value===t),r.dc("type",t)}}let bt=(()=>{class t extends E{constructor(t,e){super(t,e),this.ngControl=t,this.changeDetectorRef=e,this.both=o.a,this.left=o.b,this.right=o.c,this.iconTypes=[this.both,this.left,this.right]}ngOnInit(){this._defaultValue=o.a}writeValue(t){this.value=t}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(O.h,10),r.Gb(r.h))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-editor-view-toggle"]],features:[r.tb],decls:1,vars:1,consts:[[3,"scripter-active","type","click",4,"ngFor","ngForOf"],[3,"type","click"]],template:function(t,e){1&t&&r.pc(0,dt,1,3,"app-view-toggle-icon",0),2&t&&r.dc("ngForOf",e.iconTypes)},directives:[v.j,o.d],styles:["[_nghost-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}app-view-toggle-icon[_ngcontent-%COMP%]:not(.scripter-active){opacity:.5}app-view-toggle-icon[_ngcontent-%COMP%]{margin-right:14px}@media screen and (max-width:767px){app-view-toggle-icon[_ngcontent-%COMP%]:first-child{display:none}}"]}),t})(),gt=(()=>{class t{constructor(t,e,i){this.modalService=t,this.postEditorService=e,this.subscriptionService=i,this.view=o.a}ngOnInit(){this._subscribeView()}_subscribeView(){const t=this.postEditorService.view$.subscribe(t=>{this.view=t});this.subscriptionService.store("_subscribeView",t)}onViewChange(t){this.postEditorService.view=t}openConfirmModalForNewPost(){this.modalService.open(M.a,{data:"\uc0c8 \uae00\uc744 \uc791\uc131\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \ubcc0\uacbd \ub0b4\uc5ed\uc774 \uc800\uc7a5\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4",onClose:t=>{t&&this._createNewPost()}})}_createNewPost(){this.postEditorService.post=new ut.a}openDraftModal(){this.modalService.open(x,{closeOnNavigating:!0})}openPublishModal(){this.modalService.open(ht,{closeOnNavigating:!0})}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(I.a),r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-editor-header"]],features:[r.vb([n.a])],decls:8,vars:1,consts:[[3,"ngModel","ngModelChange"],[1,"scripter-actions"],["appInlineButton","","color","semi-white",3,"click"],["appFlatButton","","color","grey",3,"click"]],template:function(t,e){1&t&&(r.Mb(0,"app-editor-view-toggle",0),r.Tb("ngModelChange",function(t){return e.onViewChange(t)}),r.Lb(),r.Mb(1,"div",1),r.Mb(2,"button",2),r.Tb("click",function(){return e.openConfirmModalForNewPost()}),r.rc(3," \uc0c8 \uae00 "),r.Lb(),r.Mb(4,"button",2),r.Tb("click",function(){return e.openDraftModal()}),r.rc(5," \ucd08\uc548 "),r.Lb(),r.Mb(6,"button",3),r.Tb("click",function(){return e.openPublishModal()}),r.rc(7," \ubc1c\ud589\uc124\uc815 "),r.Lb(),r.Lb()),2&t&&r.dc("ngModel",e.view)},directives:[bt,O.i,O.k,nt.a,ot.a],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;box-sizing:border-box;padding:0 40px;background-color:#3b3b3b;height:70px}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}@media screen and (max-width:767px){[_nghost-%COMP%]{box-sizing:border-box;padding:0 20px}}.scripter-actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:wrap}.scripter-actions[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:20px}.scripter-flat-button[_ngcontent-%COMP%]{height:35px}"]}),t})(),ft=(()=>{class t{constructor(t,e){this.postEditorService=t,this.subscriptionService=e}ngOnInit(){this._subscribePost()}get content(){var t;return(null===(t=this.post)||void 0===t?void 0:t.content)||""}set content(t){this.post&&(this.post.content=t)}_subscribePost(){const t=this.postEditorService.post$.subscribe(t=>{this.post=t});this.subscriptionService.store("_subscribePost",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-editor-textarea"]],features:[r.vb([n.a])],decls:1,vars:1,consts:[["spellcheck","false",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(r.Mb(0,"textarea",0),r.Tb("ngModelChange",function(t){return e.content=t}),r.Lb()),2&t&&r.dc("ngModel",e.content)},directives:[O.b,O.i,O.k],styles:["[_nghost-%COMP%]{box-sizing:border-box;padding:40px;display:block}@media screen and (max-width:767px){[_nghost-%COMP%]{box-sizing:border-box;padding:20px}}textarea[_ngcontent-%COMP%]{width:100%;height:100%;display:block;overflow:auto;font-size:15px;line-height:1.6;resize:none}"]}),t})();var _t=i("75uV");let vt=(()=>{class t{constructor(t,e){this.postEditorService=t,this.subscriptionService=e}ngOnInit(){this._subscribePost()}get content(){var t;return(null===(t=this.post)||void 0===t?void 0:t.content)||""}_subscribePost(){const t=this.postEditorService.post$.subscribe(t=>{this.post=t});this.subscriptionService.store("_subscribePost",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-editor-previewer"]],decls:1,vars:1,consts:[[3,"content"]],template:function(t,e){1&t&&r.Hb(0,"app-post-markdown-viewer",0),2&t&&r.dc("content",e.content)},directives:[_t.a],styles:["[_nghost-%COMP%]{box-sizing:border-box;padding:40px;overflow:auto;display:block;background-color:#707070}@media screen and (max-width:767px){[_nghost-%COMP%]{box-sizing:border-box;padding:20px}}"]}),t})();function mt(t,e){1&t&&r.Hb(0,"app-post-editor-textarea")}function wt(t,e){1&t&&r.Hb(0,"app-post-editor-previewer")}const{tabletBreakingWidth:Ct}=s.a;let Pt=(()=>{class t{constructor(t,e){this.postEditorService=t,this.subscriptionService=e,this.view=o.a,this._tabletWidth=Ct}ngOnInit(){this._subscribeView(),this._toggleViewTypeByWidth()}get showBoth(){return this.view===o.a}get showTextarea(){return this.showBoth||this.view===o.b}get showPreviewer(){return this.showBoth||this.view===o.c}_subscribeView(){const t=this.postEditorService.view$.subscribe(t=>{this.view=t});this.subscriptionService.store("_subscribeView",t)}onWindowBeforeUnloaded(t){t.preventDefault(),t.returnValue=!0}onWindowResize(){this._toggleViewTypeByWidth()}_toggleViewTypeByWidth(){this.underTablet&&this.showBoth&&(this.postEditorService.view=o.b)}get underTablet(){return window.innerWidth<this._tabletWidth}}return t.\u0275fac=function(e){return new(e||t)(r.Gb(c.a),r.Gb(n.a))},t.\u0275cmp=r.Ab({type:t,selectors:[["app-post-editor"]],hostBindings:function(t,e){1&t&&r.Tb("beforeunload",function(t){return e.onWindowBeforeUnloaded(t)},!1,r.jc)("resize",function(){return e.onWindowResize()},!1,r.jc)},features:[r.vb([n.a])],decls:4,vars:2,consts:[[1,"scripter-container"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Hb(0,"app-post-editor-header"),r.Mb(1,"div",0),r.pc(2,mt,1,0,"app-post-editor-textarea",1),r.pc(3,wt,1,0,"app-post-editor-previewer",1),r.Lb()),2&t&&(r.wb(2),r.dc("ngIf",e.showTextarea),r.wb(1),r.dc("ngIf",e.showPreviewer))},directives:[gt,v.k,ft,vt],styles:["[_nghost-%COMP%]{display:flex;align-items:stretch;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-container[_ngcontent-%COMP%]{display:flex;align-items:stretch;flex-wrap:wrap;flex-grow:1;flex-shrink:1;flex-basis:0;height:calc(100% - 70px);width:100%}.scripter-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-container[_ngcontent-%COMP%]   app-post-editor-previewer[_ngcontent-%COMP%], .scripter-container[_ngcontent-%COMP%]   app-post-editor-textarea[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;flex-basis:50%;height:100%}"]}),t})()},IZ0j:function(t,e,i){"use strict";function n(t){switch(t.status){case 404:return"\ud3ec\uc2a4\ud2b8\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4";case 401:return"\uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4";default:return t.error.error.message}}i.d(e,"a",function(){return n})},Jbr2:function(t,e,i){"use strict";i.d(e,"a",function(){return c});var n=i("2Vo4"),o=i("/+6T"),s=i("m73w"),r=i("fXoL");let c=(()=>{class t{constructor(){this._view$=new n.a(o.a),this._post$=new n.a(new s.a)}set view(t){this._view$.next(t)}get view$(){return this._view$.asObservable()}set post(t){this._post$.next(t)}get post$(){return this._post$.asObservable()}reset(){this._post$.next(new s.a),this._view$.next(o.a)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Cb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},K5Sg:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("ofXK"),o=i("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})()},QL7L:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL");let o=(()=>{class t{constructor(){this.color="grey",this.baseClass=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=n.Bb({type:t,selectors:[["","appInlineButton",""]],hostVars:3,hostBindings:function(t,e){2&t&&(n.xb("scripter-color",e.color),n.yb("scripter-inline-button",e.baseClass))},inputs:{color:"color"}}),t})()},TSpE:function(t,e,i){"use strict";i.d(e,"a",function(){return l});var n=i("ofXK"),o=i("Ku+o"),s=i("K5Sg"),r=i("UI6+"),c=i("fXoL");let l=(()=>{class t{}return t.\u0275mod=c.Eb({type:t}),t.\u0275inj=c.Db({factory:function(e){return new(e||t)},imports:[[n.c,o.a,s.a,r.a]]}),t})()},"UI6+":function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("ofXK"),o=i("fXoL");let s=(()=>{class t{}return t.\u0275mod=o.Eb({type:t}),t.\u0275inj=o.Db({factory:function(e){return new(e||t)},imports:[[n.c]]}),t})()},Xz2l:function(t,e,i){"use strict";i.d(e,"a",function(){return p});var n=i("3yin"),o=i("fXoL"),s=i("8JuB"),r=i("uCgD"),c=i("DBYZ"),l=i("QL7L"),a=i("2/MJ");let p=(()=>{class t{constructor(t,e){this.message=t,this.modalRef=e}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)(o.Gb(n.a),o.Gb(n.b))},t.\u0275cmp=o.Ab({type:t,selectors:[["app-confirm-modal"]],decls:8,vars:1,consts:[["appInlineButton","","color","semi-white",3,"click"],["appFlatButton","","color","grey",3,"click"]],template:function(t,e){1&t&&(o.Mb(0,"app-modal-container"),o.Mb(1,"app-modal-content"),o.rc(2),o.Lb(),o.Mb(3,"app-modal-actions"),o.Mb(4,"button",0),o.Tb("click",function(){return e.modalRef.close()}),o.rc(5," \ucde8\uc18c "),o.Lb(),o.Mb(6,"button",1),o.Tb("click",function(){return e.modalRef.close(!0)}),o.rc(7," \ud655\uc778 "),o.Lb(),o.Lb(),o.Lb()),2&t&&(o.wb(2),o.sc(" ",e.message||""," "))},directives:[s.a,r.a,c.a,l.a,a.a],styles:["[_nghost-%COMP%]{display:block;width:100%;max-width:450px}app-modal-content[_ngcontent-%COMP%]{box-sizing:border-box;padding:20px 20px 40px;font-size:14px;line-height:1.6;color:#fff}button[_ngcontent-%COMP%] + button[_ngcontent-%COMP%]{margin-left:20px}.scripter-flat-button[_ngcontent-%COMP%]{height:35px}"]}),t})()},Yud9:function(t,e,i){"use strict";i.d(e,"a",function(){return o});var n=i("fXoL");let o=(()=>{class t{constructor(){this.size=30,this.color="grey"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-loading-spot"]],inputs:{size:"size",color:"color"},decls:3,vars:6,consts:[[1,"scripter-container"],[1,"scripter-ball"]],template:function(t,e){1&t&&(n.Mb(0,"div",0),n.Hb(1,"div",1),n.Hb(2,"div",1),n.Lb()),2&t&&(n.nc("height",e.size+"px")("width",e.size+"px"),n.wb(1),n.xb("scripter-color",e.color),n.wb(1),n.xb("scripter-color",e.color))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-container[_ngcontent-%COMP%]{position:relative}.scripter-ball[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;transform:scale(0);position:absolute;top:0;left:0}.scripter-ball[scripter-color=grey][_ngcontent-%COMP%]{background-color:#879099}.scripter-ball[_ngcontent-%COMP%]:first-child{animation:scaling 1s ease-out infinite}.scripter-ball[_ngcontent-%COMP%]:last-child{animation:scaling 1s ease-out .3s infinite}@keyframes scaling{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}"]}),t})()},uCgD:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var n=i("fXoL");const o=["*"];let s=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Ab({type:t,selectors:[["app-modal-content"]],ngContentSelectors:o,decls:1,vars:0,template:function(t,e){1&t&&(n.cc(),n.bc(0))},styles:["[_nghost-%COMP%]{display:block}"]}),t})()}}]);