(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{B6jC:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n("ofXK"),s=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},B8ql:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("fXoL");let s=(()=>{class t{constructor(t){this.elementRef=t,this.scrollEnd=new o.n}onHostScroll(){this._detectScrollEnd()}_detectScrollEnd(){const t=this.elementRef.nativeElement;t.scrollHeight<=t.scrollTop+t.offsetHeight&&this.scrollEnd.emit()}}return t.\u0275fac=function(e){return new(e||t)(o.Gb(o.l))},t.\u0275dir=o.Bb({type:t,selectors:[["","appScrollDetector",""]],hostBindings:function(t,e){1&t&&o.Tb("scroll",function(){return e.onHostScroll()})},outputs:{scrollEnd:"scrollEnd"}}),t})()},HfAe:function(t,e,n){"use strict";n.r(e),n.d(e,"PostListPageModule",function(){return H});var o=n("ofXK"),s=n("tyNb"),r=n("PcbD"),i=n("B8ql"),c=n("nYR2"),a=n("fXoL"),l=n("Lpyx"),p=n("ShDn"),u=n("AytR");const g=function(t){return["/post/list",t]};function f(t,e){if(1&t&&(a.Mb(0,"a",2),a.qc(1),a.Lb()),2&t){const t=e.$implicit;a.cc("routerLink",a.ec(2,g,t.value)),a.wb(1),a.rc(" ",t.label,"\n")}}const b=function(){return["/intro"]},{categories:h}=u.a;let d=(()=>{class t{constructor(){this.categories=[...h]}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ab({type:t,selectors:[["app-post-categories"]],decls:3,vars:3,consts:[[3,"routerLink"],["routerLinkActive","scripter-active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","scripter-active",3,"routerLink"]],template:function(t,e){1&t&&(a.Mb(0,"a",0),a.qc(1," Intro\n"),a.Lb(),a.oc(2,f,2,4,"a",1)),2&t&&(a.cc("routerLink",a.dc(2,b)),a.wb(2),a.cc("ngForOf",e.categories))},directives:[s.r,o.j,s.q],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}a[_ngcontent-%COMP%]{font-size:12px;color:#bebebe;line-height:14px}a[_ngcontent-%COMP%]:not(.scripter-active):hover{color:grey}a[_ngcontent-%COMP%]:not(.scripter-active):active{color:#000}a.scripter-active[_ngcontent-%COMP%]{color:#ca0060}a[_ngcontent-%COMP%] + a[_ngcontent-%COMP%]{margin-top:10px}"]}),t})(),m=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Ab({type:t,selectors:[["app-post-list-header"]],decls:1,vars:0,template:function(t,e){1&t&&a.Hb(0,"app-post-categories")},directives:[d],styles:["[_nghost-%COMP%]{display:flex;align-items:flex-start;flex-direction:column;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}"]}),t})();var v=n("Iw+v"),_=n("y3nj"),y=n("Yud9");function P(t,e){1&t&&a.Hb(0,"app-post-list-item",6),2&t&&a.cc("post",e.$implicit)}function C(t,e){1&t&&a.Hb(0,"app-loading-spot",7),2&t&&a.cc("size",50)}let w=(()=>{class t extends i.a{constructor(t,e,n,o){super(t),this.elementRef=t,this.postApiService=e,this.activatedRoute=n,this.subscriptionService=o,this.posts=[],this.loading=!1}ngOnInit(){this._subscribeScrollEnd(),this._subscribeRouteParams()}_subscribeRouteParams(){const t=this.activatedRoute.paramMap.subscribe(t=>{this._category=t.get("category")||void 0,this._response=void 0,this.posts=[],this._getPostByCategory()});this.subscriptionService.store("_subscribeRouteParams",t)}_getPostByCategory(t){if(this._category){const e=this.postApiService.getPosts({category:this._category,status:"live",pageToken:t}).pipe(Object(c.a)(()=>this.loading=!1)).subscribe({next:e=>{this._response=e,t?this.posts.push(...e.items):this.posts=e.items||[]}});this.subscriptionService.store("_getPostByCategory",e),this.loading=!0}}_subscribeScrollEnd(){const t=this.scrollEnd.subscribe(()=>{this._getNextPage()});this.subscriptionService.store("_subscribeScrollEnd",t)}_getNextPage(){var t;!this.loading&&(null===(t=this._response)||void 0===t?void 0:t.nextPageToken)&&this._getPostByCategory(this._response.nextPageToken)}}return t.\u0275fac=function(e){return new(e||t)(a.Gb(a.l),a.Gb(l.a),a.Gb(s.a),a.Gb(r.a))},t.\u0275cmp=a.Ab({type:t,selectors:[["app-post-list-page"]],features:[a.vb([r.a]),a.tb],decls:8,vars:3,consts:[[1,"scripter-top-bar"],[1,"scripter-page-container"],[3,"scrollContainer"],[1,"scripter-post-list-container"],["baseUrl","/post/view",3,"post",4,"ngFor","ngForOf"],[3,"size",4,"ngIf"],["baseUrl","/post/view",3,"post"],[3,"size"]],template:function(t,e){1&t&&(a.Hb(0,"div",0),a.Mb(1,"div",1),a.Hb(2,"app-header",2),a.Hb(3,"app-post-list-header"),a.Mb(4,"div",3),a.oc(5,P,1,1,"app-post-list-item",4),a.oc(6,C,1,1,"app-loading-spot",5),a.Lb(),a.Lb(),a.Hb(7,"app-footer")),2&t&&(a.wb(2),a.cc("scrollContainer",e.elementRef),a.wb(3),a.cc("ngForOf",e.posts),a.wb(1),a.cc("ngIf",e.loading))},directives:[p.a,m,o.j,o.k,v.a,_.a,y.a],styles:["[_nghost-%COMP%]{width:100%;height:100%;display:flex;align-items:stretch;flex-direction:column;flex-wrap:nowrap;position:absolute;overflow:auto}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}[_nghost-%COMP%]   .scripter-page-container[_ngcontent-%COMP%]{flex-grow:1;flex-shrink:1;flex-basis:0}.scripter-post-list-container[_ngcontent-%COMP%], app-post-list-header[_ngcontent-%COMP%]{margin-top:50px}app-post-list-item[_ngcontent-%COMP%] + app-post-list-item[_ngcontent-%COMP%]{margin-top:55px}app-loading-spot[_ngcontent-%COMP%]{height:100px}app-footer[_ngcontent-%COMP%]{margin-top:200px}"]}),t})();const{categories:O}=u.a,x=[{path:"",pathMatch:"full",redirectTo:O[0].value},{path:":category",component:w}];let M=(()=>{class t{}return t.\u0275mod=a.Eb({type:t}),t.\u0275inj=a.Db({factory:function(e){return new(e||t)},imports:[[s.s.forChild(x)],s.s]}),t})();var L=n("YwCB"),k=n("eX/7"),E=n("B6jC"),S=n("24OP");let B=(()=>{class t{}return t.\u0275mod=a.Eb({type:t}),t.\u0275inj=a.Db({factory:function(e){return new(e||t)},imports:[[o.c,s.s]]}),t})(),H=(()=>{class t{}return t.\u0275mod=a.Eb({type:t}),t.\u0275inj=a.Db({factory:function(e){return new(e||t)},imports:[[o.c,M,L.a,k.a,E.a,S.a,B]]}),t})()},K5Sg:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var o=n("ofXK"),s=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=s.Eb({type:t}),t.\u0275inj=s.Db({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})()},QL7L:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("fXoL");let s=(()=>{class t{constructor(){this.color="grey",this.baseClass=!0}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=o.Bb({type:t,selectors:[["","appInlineButton",""]],hostVars:3,hostBindings:function(t,e){2&t&&(o.xb("scripter-color",e.color),o.yb("scripter-inline-button",e.baseClass))},inputs:{color:"color"}}),t})()},Yud9:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n("fXoL");let s=(()=>{class t{constructor(){this.size=30,this.color="grey"}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Ab({type:t,selectors:[["app-loading-spot"]],inputs:{size:"size",color:"color"},decls:3,vars:6,consts:[[1,"scripter-container"],[1,"scripter-ball"]],template:function(t,e){1&t&&(o.Mb(0,"div",0),o.Hb(1,"div",1),o.Hb(2,"div",1),o.Lb()),2&t&&(o.mc("height",e.size+"px")("width",e.size+"px"),o.wb(1),o.xb("scripter-color",e.color),o.wb(1),o.xb("scripter-color",e.color))},styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap}[_nghost-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto}.scripter-container[_ngcontent-%COMP%]{position:relative}.scripter-ball[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:50%;transform:scale(0);position:absolute;top:0;left:0}.scripter-ball[scripter-color=grey][_ngcontent-%COMP%]{background-color:#879099}.scripter-ball[_ngcontent-%COMP%]:first-child{animation:scaling 1s ease-out infinite}.scripter-ball[_ngcontent-%COMP%]:last-child{animation:scaling 1s ease-out .3s infinite}@keyframes scaling{0%{transform:scale(0);opacity:1}to{transform:scale(1);opacity:0}}"]}),t})()}}]);