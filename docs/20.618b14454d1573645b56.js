(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{rdRe:function(t,s,i){"use strict";i.r(s),i.d(s,"PostEditorPageModule",function(){return m});var e=i("ofXK"),o=i("tyNb"),n=i("PcbD"),r=i("nYR2"),a=i("UM8G"),p=i("IZ0j"),c=i("fXoL"),d=i("Lpyx"),b=i("Jbr2"),u=i("IJOq"),h=i("Yud9");function g(t,s){1&t&&c.Hb(0,"app-loading-spot",1),2&t&&c.dc("size",50)}let l=(()=>{class t{constructor(t,s,i,e,o,n){this.router=t,this.toastService=s,this.activatedRoute=i,this.postApiService=e,this.postEditorService=o,this.subscriptionService=n,this.loading=!1}ngOnInit(){this._subscribeRouteParams()}ngOnDestroy(){this.postEditorService.reset()}_subscribeRouteParams(){const t=this.activatedRoute.paramMap.subscribe(t=>{this._id=t.get("id")||void 0,this._getPostById()});this.subscriptionService.store("_subscribeRouteParams",t)}_getPostById(){if(this._id&&!this.loading){const t=this.postApiService.getPost(this._id).pipe(Object(r.a)(()=>this.loading=!1)).subscribe({next:t=>{this.postEditorService.post=t},error:t=>{this.toastService.open({message:Object(p.a)(t),type:a.b.error}),this._toMain()}});this.subscriptionService.store("_getPostById",t),this.loading=!0}}_toMain(){this.router.navigate(["/"])}}return t.\u0275fac=function(s){return new(s||t)(c.Gb(o.p),c.Gb(a.a),c.Gb(o.a),c.Gb(d.a),c.Gb(b.a),c.Gb(n.a))},t.\u0275cmp=c.Ab({type:t,selectors:[["app-post-editor-page"]],features:[c.vb([n.a])],decls:2,vars:1,consts:[[3,"size",4,"ngIf"],[3,"size"]],template:function(t,s){1&t&&(c.Hb(0,"app-post-editor"),c.pc(1,g,1,1,"app-loading-spot",0)),2&t&&(c.wb(1),c.dc("ngIf",s.loading))},directives:[u.a,e.k,h.a],styles:["[_nghost-%COMP%]{position:absolute}[_nghost-%COMP%], app-loading-spot[_ngcontent-%COMP%], app-post-editor[_ngcontent-%COMP%]{width:100%;height:100%}app-loading-spot[_ngcontent-%COMP%]{top:0;left:0;position:fixed;background-color:rgba(0,0,0,.8);z-index:10}"]}),t})();const f=[{path:"",pathMatch:"full",component:l},{path:":id",component:l}];let v=(()=>{class t{}return t.\u0275mod=c.Eb({type:t}),t.\u0275inj=c.Db({factory:function(s){return new(s||t)},imports:[[o.s.forChild(f)],o.s]}),t})();var _=i("5j9Q"),P=i("B6jC");let m=(()=>{class t{}return t.\u0275mod=c.Eb({type:t}),t.\u0275inj=c.Db({factory:function(s){return new(s||t)},imports:[[e.c,v,_.a,P.a]]}),t})()}}]);