(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{rdRe:function(t,i,e){"use strict";e.r(i),e.d(i,"PostEditorPageModule",function(){return m});var s=e("ofXK"),o=e("tyNb"),n=e("PcbD"),r=e("nYR2"),a=e("UM8G"),c=e("IZ0j"),p=e("fXoL"),d=e("Lpyx"),b=e("Jbr2"),u=e("IJOq"),h=e("Yud9");function g(t,i){1&t&&p.Hb(0,"app-loading-spot",1),2&t&&p.cc("size",50)}let l=(()=>{class t{constructor(t,i,e,s,o,n){this.router=t,this.toastService=i,this.activatedRoute=e,this.postApiService=s,this.postEditorService=o,this.subscriptionService=n,this.loading=!1}ngOnInit(){this._subscribeRouteParams()}ngOnDestroy(){this.postEditorService.reset()}_subscribeRouteParams(){const t=this.activatedRoute.paramMap.subscribe(t=>{this._id=t.get("id")||void 0,this._getPostById()});this.subscriptionService.store("_subscribeRouteParams",t)}_getPostById(){if(this._id&&!this.loading){const t=this.postApiService.getPost(this._id).pipe(Object(r.a)(()=>this.loading=!1)).subscribe({next:t=>{this.postEditorService.post=t},error:t=>{this.toastService.open({message:Object(c.a)(t),type:a.b.error}),this._toMain()}});this.subscriptionService.store("_getPostById",t),this.loading=!0}}_toMain(){this.router.navigate(["/"])}}return t.\u0275fac=function(i){return new(i||t)(p.Gb(o.p),p.Gb(a.a),p.Gb(o.a),p.Gb(d.a),p.Gb(b.a),p.Gb(n.a))},t.\u0275cmp=p.Ab({type:t,selectors:[["app-post-editor-page"]],features:[p.vb([n.a])],decls:2,vars:1,consts:[[3,"size",4,"ngIf"],[3,"size"]],template:function(t,i){1&t&&(p.Hb(0,"app-post-editor"),p.nc(1,g,1,1,"app-loading-spot",0)),2&t&&(p.wb(1),p.cc("ngIf",i.loading))},directives:[u.a,s.k,h.a],styles:["[_nghost-%COMP%]{position:absolute}[_nghost-%COMP%], app-loading-spot[_ngcontent-%COMP%], app-post-editor[_ngcontent-%COMP%]{width:100%;height:100%}app-loading-spot[_ngcontent-%COMP%]{top:0;left:0;position:fixed;background-color:rgba(0,0,0,.8);z-index:10}"]}),t})();const f=[{path:"",pathMatch:"full",component:l},{path:":id",component:l}];let v=(()=>{class t{}return t.\u0275mod=p.Eb({type:t}),t.\u0275inj=p.Db({factory:function(i){return new(i||t)},imports:[[o.r.forChild(f)],o.r]}),t})();var _=e("5j9Q"),P=e("B6jC");let m=(()=>{class t{}return t.\u0275mod=p.Eb({type:t}),t.\u0275inj=p.Db({factory:function(i){return new(i||t)},imports:[[s.c,v,_.a,P.a]]}),t})()}}]);