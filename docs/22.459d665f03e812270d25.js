(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{rdRe:function(t,s,i){"use strict";i.r(s),i.d(s,"PostEditorPageModule",function(){return m});var e=i("ofXK"),o=i("tyNb"),n=i("PcbD"),r=i("nYR2"),a=i("UM8G"),c=i("IZ0j"),p=i("fXoL"),d=i("Lpyx"),b=i("Jbr2"),u=i("IJOq"),h=i("Yud9");function g(t,s){1&t&&p.Hb(0,"app-loading-spot",1),2&t&&p.cc("size",50)}let l=(()=>{class t{constructor(t,s,i,e,o,n){this.router=t,this.toastService=s,this.activatedRoute=i,this.postApiService=e,this.postEditorService=o,this.subscriptionService=n,this.loading=!1}ngOnInit(){this._subscribeRouteParams()}ngOnDestroy(){this.postEditorService.reset()}_subscribeRouteParams(){const t=this.activatedRoute.paramMap.subscribe(t=>{this._id=t.get("id")||void 0,this._getPostById()});this.subscriptionService.store("_subscribeRouteParams",t)}_getPostById(){if(this._id&&!this.loading){const t=this.postApiService.getPost(this._id).pipe(Object(r.a)(()=>this.loading=!1)).subscribe({next:t=>{this.postEditorService.post=t},error:t=>{this.toastService.open({message:Object(c.a)(t),type:a.b.error}),this._toMain()}});this.subscriptionService.store("_getPostById",t),this.loading=!0}}_toMain(){this.router.navigate(["/"])}}return t.\u0275fac=function(s){return new(s||t)(p.Gb(o.p),p.Gb(a.a),p.Gb(o.a),p.Gb(d.a),p.Gb(b.a),p.Gb(n.a))},t.\u0275cmp=p.Ab({type:t,selectors:[["app-post-editor-page"]],features:[p.vb([n.a])],decls:2,vars:1,consts:[[3,"size",4,"ngIf"],[3,"size"]],template:function(t,s){1&t&&(p.Hb(0,"app-post-editor"),p.oc(1,g,1,1,"app-loading-spot",0)),2&t&&(p.wb(1),p.cc("ngIf",s.loading))},directives:[u.a,e.k,h.a],styles:["[_nghost-%COMP%]{position:absolute}[_nghost-%COMP%], app-loading-spot[_ngcontent-%COMP%], app-post-editor[_ngcontent-%COMP%]{width:100%;height:100%}app-loading-spot[_ngcontent-%COMP%]{top:0;left:0;position:fixed;background-color:rgba(0,0,0,.8);z-index:10}"]}),t})();const f=[{path:"",pathMatch:"full",component:l},{path:":id",component:l}];let v=(()=>{class t{}return t.\u0275mod=p.Eb({type:t}),t.\u0275inj=p.Db({factory:function(s){return new(s||t)},imports:[[o.s.forChild(f)],o.s]}),t})();var _=i("5j9Q"),P=i("B6jC");let m=(()=>{class t{}return t.\u0275mod=p.Eb({type:t}),t.\u0275inj=p.Db({factory:function(s){return new(s||t)},imports:[[e.c,v,_.a,P.a]]}),t})()}}]);